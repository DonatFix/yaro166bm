!function(){"use strict";var e={8660:function(e,t,i){i(9826);var a=i(296),r=i.n(a),n=i(9755),o=i.n(n),d=i(9707);i.n(d)()(o());var l=o(),s=i(3997),c=(i(9947),function(){return window.matchMedia("(max-width: 760px)").matches}),u=function(){return window.matchMedia("(min-width: 1170px)").matches};function h(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,a;return t=e,(i=[{key:"init",value:function(){var e=this;this.loadPreviousGiftBox(),this.initGallery(),this.initIssuu();var t=r()((function(){var t,i,a,r;u()&&(null===(a=l(".gallerySliderThumbsContainer")[0])||void 0===a||null===(r=a.swiper)||void 0===r||r.destroy(!0,!0)),null===(t=l(".gallerySliderContainer")[0])||void 0===t||null===(i=t.swiper)||void 0===i||i.destroy(!0,!0),e.initGallery()}),300);l(window).on("resize",t),l("#galleryEvent").on("initGallery",(function(){e.initGallery(),e.initIssuu()})),l("#businessQuotationForm").on("submit",(function(t){e.handleBusinessQuotationForm(),t.preventDefault()})),l(".js-deliveryNotice").on("click",(function(){l(".js-deliveryInfoExpress").toggleClass("hidden"),l(".js-deliveryNoticeIcon").toggleClass("rotate-180")})),l(".js-productRating, .js-productPageDiscount").on("click",(function(t){e.loadTab(l(t.target).attr("data-scrollto-id")||"")})),l("#agecheck-day, #agecheck-month, #agecheck-year").on("change",(function(){e.validateAge()})),l(".js-ageCheckerInfoIcon").on("click",(function(){l(".js-ageCheckerInfo").toggleClass("hidden")})),l(".js-startPersonalisation").on("click",(function(e){return!l(e.target).hasClass("disabled")}))}},{key:"loadPreviousGiftBox",value:function(){var e=l("#previous-cadeau-viewer"),t=window.SITE_URL+"ajax/sidebar-carousel";c()&&(t+="?mobileLimit=true"),e.length&&l.ajax({url:t,dataType:"html",method:"POST",success:function(t){""!==t&&e.html(t)}})}},{key:"initIssuu",value:function(){l(".js-issuuButton").on("click",(function(){l.fancybox({type:"iframe",href:window.SITE_URL+"product-page/issuu?issuuId="+l(this).attr("data-issuu-id"),width:780,height:630,autoSize:!1,padding:c()?0:25,swf:{wmode:"transparent"}})}))}},{key:"prepareUtmzField",value:function(){l("#utmzValue").val(window.docCookies.getItem("__utmz"))}},{key:"handleBusinessQuotationForm",value:function(){this.prepareUtmzField();var e=l("#businessQuotationForm");l.post(window.SITE_URL+"services/businessQuotation.php",e.serialize(),(function(t){var i=JSON.parse(t);e.find("input").removeClass("error"),e.find(".error_emailAddress").addClass("hidden"),e.find(".error_msg").addClass("hidden"),!0===i.success?(l(".businessQuotation__success").removeClass("hidden"),e.find("input").addClass("success"),e.find("button").addClass("hidden").attr("disabled","disabled")):l.each(i.errors,(function(t,i){e.find("input[name="+i+"]").addClass("error"),e.find(".error_"+i).removeClass("hidden"),"emailAddress"===i&&(e.find(".error_emailAddress").removeClass("hidden"),e.find(".validEmail").addClass("error"))}))}))}},{key:"initGallery",value:function(){var e=l(".gallerySliderContainer"),t=l(".gallerySliderThumbsContainer");if(u()){var i=l(".gallerySliderThumbsContainer .swiper-slide");i.off("click");var a=i.length;l("#editorWidgetData").length&&a++,a<=6&&t.addClass("noNavigation"),l(i).first().addClass("slideActive");var r=new s.Z(e[0],{centeredSlides:!0,effect:"fade",preloadImages:!1,lazy:!0}),n=new s.Z(t[0],{direction:"vertical",navigation:{prevEl:".swiperVerticalPrev",nextEl:".swiperVerticalNext"},slidesPerView:"auto"});l(n).trigger("init"),i.on("click",(function(){var t=l(this);i.removeClass("slideActive"),t.addClass("slideActive");var a=parseInt(t.attr("data-swiper-index")||"",10),n=e.find("img").eq(a);n.attr("src",n.attr("data-url")||""),r.slideTo(a)})),l(".swiperVerticalNext").on("click",(function(){var e=l(".slideActive").attr("data-swiper-index");l("[data-swiper-index="+(parseInt(e||"",10)+1)+"]").trigger("click")})),l(".swiperVerticalPrev").on("click",(function(){var e=l(".slideActive").attr("data-swiper-index");l("[data-swiper-index="+(parseInt(e||"",10)-1)+"]").trigger("click")})),e.addClass("desktop"),l(".swiper-pagination").hide()}else new s.Z(e[0],{setWrapperSize:!0,centeredSlides:!0,pagination:{el:".swiper-pagination",clickable:!0,hideOnClick:!1},noSwiping:!1,on:{slideChange:function(){var t=e.find("img").eq(this.activeIndex);t.attr("src",t.attr("data-url")||"")}}}),e.removeClass("desktop"),l(".swiper-pagination").show()}},{key:"loadTab",value:function(e){var t,i,a;t=e,i=0,(a=document.getElementById(t))&&((!i||i<0)&&(i=0),window.scrollTo({top:a.getBoundingClientRect().top+document.documentElement.scrollTop-i,behavior:"smooth"}))}},{key:"validateAge",value:function(){var e=l(".js-ageCheckerMinimumAge");if(e.length>0){var t=e.attr("data-value"),i=l("#agecheck-year").val()+"-"+l("#agecheck-month").val()+"-"+l("#agecheck-day").val();t&&i>t?(l(".js-ageCheckerWarning").removeClass("hidden"),l(".js-startPersonalisation, .combinedArticleAttribute").prop("disabled",!0),l(".js-startPersonalisation").addClass("disabled"),l(".js-ew-addtocart").prop("disabled",!0),l(".js-ew-addtocart").addClass("disabled")):(l(".js-ageCheckerWarning").addClass("hidden"),l(".js-startPersonalisation, .combinedArticleAttribute").prop("disabled",!1),l(".js-startPersonalisation").removeClass("disabled"),l(".js-ew-addtocart").prop("disabled",!1),l(".js-ew-addtocart").removeClass("disabled"))}}}])&&h(t.prototype,i),a&&h(t,a),e}();i(5306),i(4916),i(2772),i(1539),i(9714),i(7941),i(2526),i(1817),i(2165),i(8783),i(6992),i(3948),i(7810);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=this;this.lastAttributes=void 0,this.attributeImages=[],this.attributeColors=[],this.attributeButtons=[],this.attributeButtonGroups=[],this.dealPromotionPayed=o()(".js-dealPromotionPayed").length>0,o()(".combinedArticleAttributeImage").each((function(){t.attributeImages[o()(this).attr("data-value-id")]=o()(this)})),o()(".combinedArticleAttributeColor").each((function(){t.attributeColors[o()(this).attr("data-value-id")]=o()(this)})),o()(".combinedArticle__button").each((function(){t.attributeButtons[o()(this).attr("data-value-id")]=o()(this)})),o()(".js-combinedArticle__buttonGroupInput").each((function(){t.attributeButtonGroups[o()(this).attr("data-value-id")]=o()(this)}))}var t,i,a;return t=e,(i=[{key:"initCombinedArticle",value:function(){this.handleImageChange(),this.handleColorChange(),this.handleSelectChange(),this.handleButtonChange(),this.handleButtonGroupChange(),this.addButtonEventHandler()}},{key:"reloadGallery",value:function(e){e&&(o()("#galleryBlock").html(e),o()("#galleryEvent").trigger("initGallery"))}},{key:"updateUrl",value:function(e){if(e){var t=window.location.href.replace(/artikelcode=([0-9]*)/,"artikelcode="+e);-1==window.location.href.indexOf("artikelcode")&&(t=window.location.href+"?artikelcode="+e),window.history.replaceState(window.history.state,"",t)}}},{key:"reloadEditor",value:function(e,t,i){e?o()(".ne-container").length?(o()(".js-editorWidget").show(),this.reloadEditorWidget(e)):this.reloadProductEditor(e,t,i):o()(".js-editorWidget").hide()}},{key:"reloadEditorWidget",value:function(e){var t=new CustomEvent("unsetEditorWidgetListeners");document.getElementsByClassName("js-editorWidget")[0].dispatchEvent(t);var i=o()("#cartItemId").val();o().ajax({type:"GET",data:{productId:e,cartItemId:i},url:SITE_URL+"product-page/editor-widget",success:function(e){o()(".ne-composer, .controls-editor-widget").html(""),o()("#editorWidgetData").replaceWith(e)}})}},{key:"reloadGiftEditorWidget",value:function(e){e&&document.dispatchEvent(new CustomEvent("combinedArticleChanged",{detail:{articleId:e}}))}},{key:"reloadProductEditor",value:function(e,t,i){this.updateRedirectUrl(o()(".startCombinedPersonalisation"),e,t,i)}},{key:"updateRedirectUrl",value:function(e,t,i,a){o()(e).each((function(){var e=o()(this).attr("href");if(e){var i=e.replace(/artikelcode=([0-9]*)/,"artikelcode="+t);i=(i=(i=(i=i.replace(/artikelcode%3D([0-9]*)/g,"artikelcode%3D"+t)).replace(/artikelcode%253D([0-9]*)/g,"artikelcode%253D"+t)).replace(/productId=([0-9]+)/g,"productId="+t)).replace(/producteditorid=([0-9]*)/,"producteditorid="+a),o()(this).attr("href",i)}}))}},{key:"disableValues",value:function(e,t){var i=this;o()(".combinedArticleError").addClass("hidden"),o()(".combinedArticleAttribute").removeClass("error");var a=o()(".combinedArticleAttribute option");e?a.each((function(){var a=o()(this).parent().attr("data-attribute-id"),r=o()(this).parent().attr("data-attribute-level");if(a!=t&&r>1){o()(this).addClass("hidden");var n=o()(this).val();-1===o().inArray(n,e)?(o()(this).removeClass("hidden"),o()(this).prop("disabled",!1),o()(i.attributeImages[n]).removeClass("hidden"),o()(i.attributeColors[n]).removeClass("hidden"),o()(i.attributeButtons[n]).removeClass("hidden"),o()(i.attributeButtonGroups[n]).prop("disabled",!1)):(o()(this).prop("disabled",!0),o()(i.attributeImages[n]).addClass("hidden"),o()(i.attributeColors[n]).addClass("hidden"),o()(i.attributeButtons[n]).addClass("hidden"),o()(i.attributeButtonGroups[n]).prop("disabled",!0))}})):a.each((function(){var e=o()(this).val();o()(this).removeClass("hidden"),o()(this).prop("disabled",!1),o()(i.attributeImages[e]).removeClass("hidden"),o()(i.attributeColors[e]).removeClass("hidden"),o()(i.attributeButtons[e]).removeClass("hidden"),o()(i.attributeButtonGroups[e]).prop("disabled",!1),o()(i.attributeButtonGroups[e]).next().removeClass("hidden")}))}},{key:"updateArticleInfo",value:function(e){e&&o()("#articleText").html(e)}},{key:"updateArticleSpecifications",value:function(e){e&&o()("#articleSpecifications").html(e)}},{key:"updateArticlePrice",value:function(e){if(e){var t=o()(".shippingCosts").html();o()(".priceDetails").replaceWith(e),o()(".shippingCosts").html(t)}}},{key:"updateArticleUsps",value:function(e){e&&o()(".js-articleUsps").replaceWith(e)}},{key:"updateProductPageTitle",value:function(e){e&&o()(".productpage_title").html(e)}},{key:"handleColorChange",value:function(){var e=o()(".combinedArticleAttributeColor");e.click((function(){e.removeClass("selected"),o()(this).addClass("selected");var t=o()(this).attr("data-value-id");o()(".combinedArticleAttribute.colorList").val(t).change()}))}},{key:"handleImageChange",value:function(){o()(".combinedArticleAttributeImage").each((function(){var e=o()(this),t=e.find("img"),i=e.closest(".combinedArticleAttributeRow"),a=i.find(".combinedArticleAttributeImage");e.click((function(){a.removeClass("selected"),e.addClass("selected"),t.attr("src",t.attr("data-img-selected")),i.find(".js-combinedArticleImageList").val(e.attr("data-value-id")).change()}))}))}},{key:"handleButtonChange",value:function(){var e=o()(".combinedArticle__button"),t=o()(".combinedArticleAttribute.buttonList");e.click((function(){e.removeClass("combinedArticle__button--selected"),o()(this).addClass("combinedArticle__button--selected");var i=o()(this).attr("data-value-id");t.val(i).change()}))}},{key:"handleButtonGroupChange",value:function(){o()(".js-combinedArticle__buttonGroupLabel").click((function(e){var t=o()(this).closest(".combinedArticleAttributeRow").find(".combinedArticleAttribute.buttonGroupList"),i=o()(this).attr("data-input-name"),a=o()("#"+i);if(a.is(":disabled"))e.preventDefault();else{var r=a.attr("data-value-id");t.val(r).change()}}))}},{key:"handleSelectChange",value:function(){var e=this;o()(".combinedArticleAttribute").change((function(){document.dispatchEvent(new CustomEvent("combinedArticleChangeRequested"));var t={},i={},a=o()(".js-combinedArticleData").attr("data-combined-article-id"),r=!1,n=o()(this).attr("data-attribute-id"),d=o()(this).attr("data-attribute-level");o()(".combinedArticleAttribute").each((function(){var e=o()(this).attr("data-attribute-id"),a=o()(this).attr("data-attribute-level"),n=o()(this).val();1==a||a<=d?(t[e]=n,0==n&&(r=!0)):(t[e]=0,a==o()(".combinedArticleAttribute").length&&n>0&&!r?i[e]=n:(o()(".combinedArticleAttributeColor[data-attribute-id="+e+"]").removeClass("selected"),o()(".combinedArticleAttributeImage[data-attribute-id="+e+"]").removeClass("selected"),o()(".combinedArticle__button[data-attribute-id="+e+"]").removeClass("combinedArticle__button--selected"),o()(".js-combinedArticle__buttonGroupInput[data-attribute-id="+e+"]").prop("checked",!1),o()(this).val(0)),r=!0)})),o()(".combinedArticleAttributeImage:not(.selected)").find("img").each((function(){o()(this).attr("src",o()(this).attr("data-img-default"))})),e._areObjectsEqual(e.lastAttributes,t)?document.dispatchEvent(new CustomEvent("combinedArticleChangeAborted")):(e.lastAttributes=t,e.getData(t,a,n,i))}))}},{key:"updateValuePrices",value:function(e){if(e&&!1===this.dealPromotionPayed){for(var t in e)if(!1!==e.hasOwnProperty(t)){var i=e[t],a=o()('.combinedArticleAttribute option[value="'+t+'"]');a.attr("data-price",i);var r=a.attr("data-attribute-name");a.html(r+" ("+i+")"),o()('.combinedArticleAttributeImage[data-value-id="'+t+'"]').find(".valuePrice").html(i);var n=o()('.js-combinedArticle__buttonGroupLabel[data-value-id="'+t+'"]').find(".js-combinedArticle__buttonGroupLabel__price");o()('.js-combinedArticle__buttonGroupInput[data-value-id="'+t+'"]').is(":disabled")?n.html(" ("+i+")").addClass("hidden"):n.html(" ("+i+")").removeClass("hidden")}}else o()(".js-combinedArticle__buttonGroupLabel__price").addClass("hidden")}},{key:"updateShippingData",value:function(e,t){if(e){o()(".deliveryText").replaceWith(e),o()(".js-deadlineProductId").attr("data-id",t.toString());var i=new CustomEvent("reloadDeadline");document.dispatchEvent(i);var a=new CustomEvent("newFancy");document.dispatchEvent(a)}}},{key:"getData",value:function(e,t,i,a){var r=this;o().ajax({type:"GET",url:SITE_URL+"product-page/combined-article",data:{attributes:e,combinedArticleId:t,lastSelection:a,dealPromotionPayed:this.dealPromotionPayed,variantId:o()(".js-combinedArticleData").data("variant-id"),showUnpublished:o()(".js-combinedArticleData").data("show-unpublished")},success:function(e){r.reloadGiftEditorWidget(e.resolvedArticleId),r.reloadGallery(e.galleryBlock),r.reloadEditor(e.resolvedArticleId,e.activeLayoutAreas,e.editorId),r.updateUrl(e.resolvedArticleId),r.updateArticlePrice(e.articlePrice),r.updateArticleInfo(e.articleInfo),r.updateArticleUsps(e.articleUsps),r.updateProductPageTitle(e.productPageTitle),r.updateArticleSpecifications(e.articleSpecifications),r.updateShippingData(e.deliveryText,e.resolvedArticleId),r.disableValues(e.disabledValues,i),r.updateValuePrices(e.valuePrices),r.handleLastSelection(a,e.resolvedArticleId),r.trackNewProductViewed(e.productData)}})}},{key:"trackNewProductViewed",value:function(e){"function"!=typeof window._trackProductViewed?("object"!==b(window._viewedProductList)&&(window._viewedProductList=[]),window._viewedProductList.push(e)):window._trackProductViewed(e)}},{key:"addButtonEventHandler",value:function(){o()(".startCombinedPersonalisation").on("click",(function(){var e=!0;return o()(".combinedArticleAttribute").each((function(){var t=o()(this);if("0"==t.val()){t.addClass("error");var i=t.attr("data-attribute-id");o()("#combinedArticleError_"+i).removeClass("hidden"),e=!1}})),!!e&&(o()(".combinedArticleAttribute").removeClass("error"),o()(".combinedArticleError").addClass("hidden"),!0)}))}},{key:"handleLastSelection",value:function(e,t){if(Object.keys(e).length>0){var i=Object.keys(e),a=o()(".combinedArticleAttribute[data-attribute-id="+i+"]");if(t){var r=a.find('option:not(:disabled, [value="0"])');1===r.length&&a.val(r.val())}else a.val(0),o()(".combinedArticleAttributeColor[data-attribute-id="+i+"]").removeClass("selected"),o()(".combinedArticleAttributeImage[data-attribute-id="+i+"]").removeClass("selected")}}},{key:"_areObjectsEqual",value:function(e,t){return void 0!==e&&void 0!==t&&JSON.stringify(e)===JSON.stringify(t)}}])&&p(t.prototype,i),a&&p(t,a),e}();o()((function(){(new v).init(),(new f).initCombinedArticle()}))}},t={};function i(a){if(t[a])return t[a].exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,i),r.exports}i.m=e,i.x=function(){},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={409:0},t=[[8660,4893,9755,2639,2976,2801,4248]],a=function(){},r=function(r,n){for(var o,d,l=n[0],s=n[1],c=n[2],u=n[3],h=0,v=[];h<l.length;h++)d=l[h],i.o(e,d)&&e[d]&&v.push(e[d][0]),e[d]=0;for(o in s)i.o(s,o)&&(i.m[o]=s[o]);for(c&&c(i),r&&r(n);v.length;)v.shift()();return u&&t.push.apply(t,u),a()},n=self.webpackChunkwebshop_frontend=self.webpackChunkwebshop_frontend||[];function o(){for(var a,r=0;r<t.length;r++){for(var n=t[r],o=!0,d=1;d<n.length;d++){var l=n[d];0!==e[l]&&(o=!1)}o&&(t.splice(r--,1),a=i(i.s=n[0]))}return 0===t.length&&(i.x(),i.x=function(){}),a}n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n));var d=i.x;i.x=function(){return i.x=d||function(){},(a=o)()}}();i.x()}();
//# sourceMappingURL=productPage.cb7231ac.js.map