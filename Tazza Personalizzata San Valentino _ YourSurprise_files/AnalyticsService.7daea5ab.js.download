!function(){"use strict";var e={8557:function(e,t,n){n.d(t,{Z:function(){return f}});n(7042),n(1539),n(8309),n(1038),n(8783),n(2526),n(1817),n(2165),n(6992),n(3948);var r=n(722),o=n(9666);function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c,u,l=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.S1({dsn:t,environment:n,release:o,allowUrls:[/(yspacc|ysp|yspimages|yoursurprise|yoursurprisecom)\./],ignoreErrors:["Error while fetching url","Invalid character in header field name"],tracesSampler:function(){return/(yoursurprise|yspacc|ysp)\./.test(document.location.host)?1:0}})}var t,n,a;return t=e,(n=[{key:"log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.Tb(e,{extra:t}),window.ineum&&window.ineum("reportError",e,{meta:t})}},{key:"processErrorQueue",value:function(){var e=this;if(window.errorQueue){window.errorQueue.push=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0,i=n;o<i.length;o++){var a=i[o];e.log(a)}return 0};var t,n=i(window.errorQueue);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.log(r)}}catch(e){n.e(e)}finally{n.f()}window.errorQueue.length=0}}}])&&s(t.prototype,n),a&&s(t,a),e}();window.siteMetadata.sentryEnabled&&window.siteMetadata.sentryDsn&&(u=window.siteMetadata.sentryDsn);var d=new l(u,window.siteMetadata.environment,null!==(c=window.siteMetadata.version)&&void 0!==c?c:void 0);d.processErrorQueue();var f=d},1271:function(e,t,n){n(5666),n(8309),n(8674),n(1539),n(8783),n(6992),n(3948),n(9601),n(6699),n(2023),n(4765),n(4916),n(9554),n(4747),n(285),n(7042),n(1038),n(2526),n(1817),n(2165),n(2222);function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="",this.products=[]}var t,n,o;return t=e,(n=[{key:"addProduct",value:function(e){this.products.push(e.properties)}},{key:"addProducts",value:function(e){var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;this.addProduct(o)}}catch(e){n.e(e)}finally{n.f()}}},{key:"setName",value:function(e){this.name=e}}])&&i(t.prototype,n),o&&i(t,o),e}();function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.model=t,this.productFactory=n,this.tracker=r}var t,n,r;return t=e,(n=[{key:"processProducts",value:function(){var e=this;if(this.model.productsList){var t="".concat(this.model.modxAlias," (").concat(this.model.modxIdentifier,")"),n=this.model.productsList.querySelectorAll(".js-productListProduct"),r=this.productFactory.newProductsFromElements(n,t),o=this.createList(t,r);o.products.length>0&&this.trackProductListViewed(o);var i,a=s(r);try{var c=function(){var t=i.value;t.element.addEventListener("click",(function(){return e.trackProductClicked(t)}))};for(a.s();!(i=a.n()).done;)c()}catch(e){a.e(e)}finally{a.f()}}}},{key:"processTopProducts",value:function(){var e=this;if(this.model.topProductsList){var t=this.model.topProductsList.dataset.topProductListGroup,n=this.model.topProductsList.querySelectorAll(".js-productListProduct"),r=this.productFactory.newProductsFromElements(n,t),o=this.createList(t,r);o.products.length>0&&this.trackProductListViewed(o);var i,a=s(r);try{var c=function(){var t=i.value;t.element.addEventListener("click",(function(){return e.trackProductClicked(t)}))};for(a.s();!(i=a.n()).done;)c()}catch(e){a.e(e)}finally{a.f()}}}},{key:"createList",value:function(e,t){var n=new a;return n.setName(e),n.addProducts(t),n}},{key:"trackProductListViewed",value:function(e){this.tracker.trackProductListViewed(e.name,e.products)}},{key:"trackProductClicked",value:function(e){this.tracker.trackProductClicked(e.properties)}}])&&u(t.prototype,n),r&&u(t,r),e}();var d=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.topProductsList=document.querySelector(".js-topProductList"),this.productsList=document.querySelector(".js-productList"),this.modxIdentifier=null,this.modxAlias=null;var t=document.getElementById("modxIdentifier");t instanceof Element&&(this.modxIdentifier=t.innerText,this.modxAlias=t.dataset.alias),this.lists={}};function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._element=t,this._properties=n}var t,n,r;return t=e,(n=[{key:"element",get:function(){return this._element}},{key:"properties",get:function(){return this._properties}}])&&f(t.prototype,n),r&&f(t,r),e}();function p(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"newProductFromElement",value:function(e,t,n){var r=e.dataset;return new h(e,{product_id:r.productId,name:r.productName,price:r.productPrice,currency:r.productCurrency,position:t,url:r.productUrl,imageUrl:r.productImageUrl,list:n})}},{key:"newProductsFromElements",value:function(e,t){var n,r=[],o=0,i=p(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;o++,r.push(this.newProductFromElement(a,o,t))}}catch(e){i.e(e)}finally{i.f()}return r}}])&&y(t.prototype,n),r&&y(t,r),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"createProductEventsBinder",value:function(e){var t=new d,n=new m;return new l(t,n,e)}}])&&w(t.prototype,n),r&&w(t,r),e}();n(107);function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tracker=t,this.constants={selectors:{trackEvent:"[data-ajs-event]"},data:{event:"ajsEvent",properties:"ajsProperties"},attributes:{link:"data-ajs-link"}}}var t,n,r;return t=e,(n=[{key:"bind",value:function(e){var t=this;e.addEventListener("click",(function(e){var n=e.target;if(n instanceof HTMLElement){var r=n.closest(t.constants.selectors.trackEvent);r instanceof HTMLElement&&t.handleClick(r)}}))}},{key:"handleClick",value:function(e){var t=e.dataset[this.constants.data.event];if(t){var n=this.getEventProperties(e);this.tracker.track(t,n)}}},{key:"getEventProperties",value:function(e){var t=e.dataset[this.constants.data.properties];return t||(t={}),t}}])&&b(t.prototype,n),r&&b(t,r),e}();function E(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tracker=t,this.constants={selectors:{trackLink:"[data-ajs-link]"},data:{event:"ajsEvent",properties:"ajsProperties"},attributes:{event:"data-ajs-event",properties:"data-ajs-properties"}}}var t,n,r;return t=e,(n=[{key:"bind",value:function(e){var t,n=E(e.querySelectorAll(this.constants.selectors.trackLink));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r instanceof HTMLElement){var o=this.getEvent(r);if(o){var i=this.getProperties(r);this.tracker.trackLink(r,o,i),this.removeTrackingAttributes(r)}}}}catch(e){n.e(e)}finally{n.f()}}},{key:"getEvent",value:function(e){var t,n=null;return"dataset"in e&&(n=null!==(t=e.dataset[this.constants.data.event])&&void 0!==t?t:null),n}},{key:"getProperties",value:function(e){var t={};if("dataset"in e){var n=e.dataset[this.constants.data.properties];if(n)try{t=JSON.parse(n)}catch(e){console.error(e)}}return t}},{key:"removeTrackingAttributes",value:function(e){e.removeAttribute(this.constants.attributes.event),e.removeAttribute(this.constants.attributes.properties)}}])&&S(t.prototype,n),r&&S(t,r),e}(),A=(n(9947),function(e){return new Promise((function(t){setTimeout(t,e)}))}),T=n(87),_=n(8557),x=n(7147);function j(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var O=window.fetch||x.he,C=function(e){return"string"==typeof e?e:e.url},L=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length<=0?void 0:o[0],n=o.length<=1?void 0:o[1],e.prev=2,e.next=5,O(t,n);case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(2),r=new Error("Error while fetching url"),_.Z.log(r,{requestUrl:C(t),originalError:e.t0}),r;case 13:case"end":return e.stop()}}),e,null,[[2,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){j(i,r,o,a,s,"next",e)}function s(e){j(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){G(i,r,o,a,s,"next",e)}function s(e){G(i,r,o,a,s,"throw",e)}a(void 0)}))}}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}new(function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t,this.tracker=n,this.setupEndpoint="analytics/setup",this.pendingMessagesEndPoint="analytics/pendingMessages",this.veroUserIdParameter="vero_id",this.userIdParameter="user_id",this.channableParameter="channable",this.STORAGE_KEY_FIRST_PAGEVIEW="__first_pageview__",this.PAGE_TYPE_PRODUCT="Product",this.PAGE_TYPE_CHECKOUT="Checkout",this.PAGE_TYPE_SEARCH="Search",this.trackProductViewed=function(e){if(void 0!==(null==e?void 0:e.productId)){var t=r.tracker.createProduct(e.productId,e.name,e.price,e.currency,e.quantity);t.value=e.value,r.tracker.trackProductViewed(t)}},this.storePageview=function(e,t,n){window.localStorage.getItem(r.STORAGE_KEY_FIRST_PAGEVIEW)||window.localStorage.setItem(r.STORAGE_KEY_FIRST_PAGEVIEW,JSON.stringify({properties:n,timestamp:new Date}))},this.consentService=T.ConsentServiceFactory.create("".concat(t,"consent"),L);var o=new g;this.productListEventsBinder=o.createProductEventsBinder(n);var i=new k(n),a=new I(n);i.bind(document.body),a.bind(document.body)}var t,n,r,o,i;return t=e,n=[{key:"initAnalytics",value:(i=D(regeneratorRuntime.mark((function t(){var n,r,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=window._pageType,r=document.location.pathname,this.consentService.registerPageview(r,n),t.next=5,this.consentService.wasConsentSpecified();case 5:if(t.t0=t.sent,!1!==t.t0){t.next=8;break}this.tracker.on("page",this.storePageview);case 8:return t.next=10,this.consentService.wasConsentGranted();case 10:if(!t.sent){t.next=17;break}this.tracker.load(""),this.trackStoredPageview(),"function"==typeof window._loadOldGtm&&window._loadOldGtm(),e.loadDelayedScripts(),t.next=27;break;case 17:return this.tracker.loadWithoutTrackingPii(""),t.next=20,this.consentService.shouldShowInformation(n);case 20:if(!t.sent){t.next=23;break}this.showAnalyticsInformation()&&this.consentService.registerAnalyticsInfoShown(r);case 23:return t.next=25,this.consentService.wasConsentDenied();case 25:if(!t.sent){t.next=27;break}this.clearStoredPageview();case 27:if(this.processTrackingConsentInputs(),this.tracker.isAvailable()){t.next=30;break}return t.abrupt("return");case 30:this.tracker.onReady((function(){Promise.race([o.setup(),A(5e3)]).then((function(){o.processPendingMessages(),o.trackProductViewedFromWindow(),o.productListEventsBinder.processProducts(),o.productListEventsBinder.processTopProducts()})),window._trackProductViewed=o.trackProductViewed}));case 31:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"setup",value:function(){var e=this;return new Promise((function(t){var n=new XMLHttpRequest,r=e.buildSetupPayload();!1!==r&&(n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE){var r=e.buildInitialPageData();if(200===n.status){var o=e.processSetupResponse(JSON.parse(n.responseText));Object.assign(r,o)}e.tracker.page(r),t()}},n.open("POST",e.baseUrl+e.setupEndpoint),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(r)))}))}},{key:"buildSetupPayload",value:function(){var e=this.tracker.getAnonymousId(),t=this.getVeroUserIdFromUrl(),n=navigator.userAgent.toLowerCase().includes("bot");if(!e)return!1;var r={anonymousId:e};return t&&!n&&(r.veroUserId=t),r}},{key:"processSetupResponse",value:function(e){e.userId!==this.tracker.getUserId()&&(this.tracker.getUserId()&&this.tracker.reset(),e.userId&&this.tracker.identify(e.userId));var t={};return"pageData"in e&&(t=e.pageData),t}},{key:"buildInitialPageData",value:function(){var e="";try{e=window.docCookies.getItem("__utmz")}catch(e){console.error(e)}var t={__utmz:e,pageType:"Other",path:document.location.pathname};if("_pageType"in window&&(t.pageType=window._pageType),"xid"in document.body.dataset&&(t.xid=document.body.dataset.xid),t.pageType===this.PAGE_TYPE_SEARCH||document.location.search.includes(this.channableParameter)){var n=document.location.search;n.length>0&&(t.path+=n)}var r=document.getElementById("modxIdentifier");return r instanceof Element&&(t.modxId=r.innerText),t}},{key:"processPendingMessages",value:function(){var e=this;if(window._pageType===this.PAGE_TYPE_CHECKOUT){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE&&200===t.status){var n,r=U(JSON.parse(t.responseText));try{for(r.s();!(n=r.n()).done;){var o=n.value,i=void 0;"integrations"in o&&(i={integrations:o.integrations}),e.tracker.track(o.event,o.properties,i)}}catch(e){r.e(e)}finally{r.f()}}},t.open("GET",this.baseUrl+this.pendingMessagesEndPoint),t.send()}}},{key:"trackProductViewedFromWindow",value:function(){var e=this;window._pageType===this.PAGE_TYPE_PRODUCT&&("object"===M(window._productData)&&window._productData.productId&&this.trackProductViewed(window._productData),"object"===M(window._viewedProductList)&&window._viewedProductList.forEach((function(t){e.trackProductViewed(t)})))}},{key:"getVeroUserIdFromUrl",value:function(){if(!("URLSearchParams"in window))return null;var e=new URLSearchParams(document.location.search),t=e.get(this.veroUserIdParameter);return null!=t?t:e.get(this.userIdParameter)}},{key:"processTrackingConsentInputs",value:(o=D(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.getElementById("js-consentGranted"),n=document.getElementById("js-consentDenied"),t instanceof HTMLInputElement&&n instanceof HTMLInputElement){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.consentService.wasConsentGranted();case 6:if(!e.sent){e.next=10;break}t.checked=!0,e.next=14;break;case 10:return e.next=12,this.consentService.wasConsentDenied();case 12:if(!e.sent){e.next=14;break}n.checked=!0;case 14:t.addEventListener("change",(function(){t.checked&&(r.consentService.registerConsentGranted(T.consentMethods.CONSENT_METHOD_USED_SETTINGS,"User granted consent by submitting their preference through the settings page",!1),r.hideAnalyticsInformation())})),n.addEventListener("change",(function(){n.checked&&(r.consentService.registerConsentDenied(T.consentMethods.CONSENT_METHOD_USED_SETTINGS,"User denied consent by submitting their preference through the settings page",!1),r.hideAnalyticsInformation())})),t.disabled=!1,n.disabled=!1;case 18:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"showAnalyticsInformation",value:function(){var e=this,t=document.getElementById("js-analyticsInformation");if(!t)return!1;var n=document.getElementById("js-showMoreAnalyticsInformation"),r=document.getElementById("js-moreAnalyticsInformation"),o=document.getElementById("js-closeAnalyticsInformation");return n instanceof HTMLElement&&r instanceof HTMLElement&&o instanceof HTMLElement&&(n.addEventListener("click",(function(){r.classList.remove("hidden"),n.classList.add("hidden")})),o.addEventListener("click",(function(){e.consentService.registerConsentGranted(T.consentMethods.CONSENT_METHOD_ACKNOWLEDGED_INFO,"User granted consent by acknowledging analytics information",!1),e.hideAnalyticsInformation()})),t.classList.remove("hidden"),!0)}},{key:"hideAnalyticsInformation",value:function(){var e=document.getElementById("js-analyticsInformation");e&&e.classList.add("hidden")}},{key:"trackStoredPageview",value:function(){var e=window.localStorage.getItem(this.STORAGE_KEY_FIRST_PAGEVIEW);if(e){var t=JSON.parse(e),n={integrations:{All:!0,"Google Analytics":!1},timestamp:t.timestamp};this.tracker.page(t.properties,n),this.clearStoredPageview()}}},{key:"clearStoredPageview",value:function(){window.localStorage.removeItem(this.STORAGE_KEY_FIRST_PAGEVIEW)}}],r=[{key:"loadDelayedScripts",value:function(){var e,t=U(document.getElementsByClassName("js-requiresConsent"));try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n instanceof HTMLElement){var r=n.dataset.src;if(r){var o=document.createElement("script");o.setAttribute("async",""),o.setAttribute("defer",""),o.setAttribute("src",r),document.head.appendChild(o)}}}}catch(e){t.e(e)}finally{t.f()}}}],n&&N(t.prototype,n),r&&N(t,r),e}())(document.getElementById("js-analytics-service").dataset.siteUrl,new T.Tracker).initAnalytics()}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r](o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.x=function(){},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={390:0},t=[[1271,4893,6730,3226,7888,6954,9738,2039,5933,8728]],r=function(){},o=function(o,i){for(var a,s,c=i[0],u=i[1],l=i[2],d=i[3],f=0,h=[];f<c.length;f++)s=c[f],n.o(e,s)&&e[s]&&h.push(e[s][0]),e[s]=0;for(a in u)n.o(u,a)&&(n.m[a]=u[a]);for(l&&l(n),o&&o(i);h.length;)h.shift()();return d&&t.push.apply(t,d),r()},i=self.webpackChunkwebshop_frontend=self.webpackChunkwebshop_frontend||[];function a(){for(var r,o=0;o<t.length;o++){for(var i=t[o],a=!0,s=1;s<i.length;s++){var c=i[s];0!==e[c]&&(a=!1)}a&&(t.splice(o--,1),r=n(n.s=i[0]))}return 0===t.length&&(n.x(),n.x=function(){}),r}i.forEach(o.bind(null,0)),i.push=o.bind(null,i.push.bind(i));var s=n.x;n.x=function(){return n.x=s||function(){},(r=a)()}}();n.x()}();
//# sourceMappingURL=AnalyticsService.7daea5ab.js.map